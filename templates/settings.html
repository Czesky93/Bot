<!DOCTYPE html>
<html>
<head>
    <title>Ustawienia Bota</title>
</head>
<body>
    <h1>Konfiguracja Bota</h1>
    <form id="settings-form">
        <label>Trading Pair:</label>
        <input type="text" id="trading_pair" value="{{ config.get('trading_pair', 'BTCUSDT') }}">
        
        <label>Kwota Handlu:</label>
        <input type="number" id="trade_amount" value="{{ config.get('trade_amount', 100) }}">

        <label>Strategia:</label>
        <select id="strategy">
            <option value="MACD">MACD</option>
            <option value="RSI">RSI</option>
            <option value="AI">AI</option>
        </select>

        <label>Stop-Loss (%):</label>
        <input type="number" id="stop_loss" value="{{ config.get('stop_loss', 2) }}">

        <label>Take-Profit (%):</label>
        <input type="number" id="take_profit" value="{{ config.get('take_profit', 5) }}">

        <button type="submit">Zapisz</button>
    </form>

    <script>
        document.getElementById("settings-form").onsubmit = function(event) {
            event.preventDefault();
            const config = {
                trading_pair: document.getElementById("trading_pair").value,
                trade_amount: document.getElementById("trade_amount").value,
                strategy: document.getElementById("strategy").value,
                stop_loss: document.getElementById("stop_loss").value,
                take_profit: document.getElementById("take_profit").value
            };
            
            fetch("/settings", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(config)
            }).then(response => response.json())
              .then(data => alert(data.message));
        };
    </script>
</body>
</html>
